<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="UTF-8" />
    <meta http-equiv="content-language" content="ja" />
    <title>第3問 - 浦和高校プログラミング研究会</title>
    <meta name="author" content="浦和高校 プログラミング研究会" />
    <meta name="owner" content="浦和高校 プログラミング研究会" />
    <meta name="designer" content="Kevin-Hashi" />
    <meta
      name="copyright"
      content="Copyright (C) 2022 浦和高校 プログラミング研究会"
    />
    <meta http-equiv="pragma" content="no-cache" />
    <meta name="format-detection" content="telephone=no" />
    <meta
      name="viewport"
      content="width=device-width, inital-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="../../style/common.css" />
    <link rel="stylesheet" href="../style/quiz.css" />
    <script src="../../js/loadHeadFoot.js"></script>
    <script src="../js/loadAnswer.js"></script>
    <script src="../js/sha256.js"></script>
    <script src="../js/checksha.js"></script>
    <style>
      .comment {
        margin-right: 5%;
      }
      img {
        max-width: 80%;
      }
    </style>
  </head>
  <body>
    <div class="part quiz_wrapper">
      <h1>第3問</h1>
      <h2>この場所はどこでしょう</h2>
      <div class="line"></div>
      <div class="sentence">
        <h3>quiz</h3>
        <p class="comment">
          ここから川を渡らないところにある一番近い駅の郵便番号を答えてください。
        </p>
        <p class="comment">例:123-4567</p>
        <a
          href="./img/target_2000.jpg"
          target="_blank"
          ,
          rel="noreferrer noopener"
          ><img src="./img/target_500.webp"
        /></a>
        <p class="comment">※画像をクリックすると拡大表示します。</p>
      </div>
      <div class="answer_wrapper" id="answer_wrapper"></div>
      <div class="next_wrapper">
        <p class="next hide">
          全問完答おめでとうございます！引き続き文化祭をお楽しみください！<br />ぜひプロ研のブースにもお立ち寄りください
        </p>
      </div>
    </div>
    <script>
      function hankaku2Zenkaku(str) {
        return str.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (s) {
          return String.fromCharCode(s.charCodeAt(0) - 0xfee0);
        });
      }
      const intervalId = setInterval(function () {
        if (document.getElementsByClassName("answer_button") !== undefined) {
          clearInterval(intervalId);
          if (intervalId !== undefined) {
            delete intervalId;
          }
          const answer_button = document
            .getElementsByClassName("answer_button")
            .item(0);
          const answer_input = document
            .getElementsByClassName("answer")
            .item(0);
          answer_button.addEventListener("click", async function () {
            const result = await checksha256(
              hankaku2Zenkaku(answer_input.value).replace("-", ""),
              "c6035e8aa677f99fe4f2ea6fe1ae591d79e4a83e5e5a59bcd5696dbdd637ee26"
            );
            if (result) {
              alert("正解です！");
              document
                .getElementsByClassName("next")
                .item(0)
                .classList.remove("hide");
            } else {
              alert("不正解です...");
            }
          });
        }
      }, 100);
    </script>
  </body>
</html>
